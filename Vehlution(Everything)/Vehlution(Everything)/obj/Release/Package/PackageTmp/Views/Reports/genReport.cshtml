

    @model dynamic

    <head>

        <meta name="viewport" content="width=device-width" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
        <script src='https://kit.fontawesome.com/a076d05399.js'></script>
        <link href="~/CSS1/StyleSheet1.css" rel="stylesheet" />
        <title>Index</title>
        <script>



window.onload = function () {
    CanvasJS.addColorSet("greenShades",
        [//colorSet Array

            "#0B1B71",

            "#EAA02D ", "#3A4893",
            "#EEB866 "
        ]);
    var chart = new CanvasJS.Chart("chartContainer", {
        colorSet: "greenShades",
title: {
text: "Makes sold during the period @Html.Raw(ViewBag.start) to @Html.Raw(ViewBag.end)"
},
axisY: {
title: "Amount of cars sold)"
},
data: [{
type: "column",

indexLabel: "{y}",
dataPoints: @Html.Raw(ViewBag.DataPoints)

}]
});



}
        </script>

    </head>
    <body>


        <table class="table-latitude">
            <caption>Sales report</caption>
            <thead>
                <tr class="thead">
                    <
                    <th>Sale ID</th>
                    <th>Sale Date</th>
                    <th>Accepted offer</th>
                    <th>Payment Type </th>
                    <th>Car RegistrationD</th>
                    <th>Make</th>
                    <th>Model</th>
                    <th>Client FullName</th>
                </tr>
            </thead>
            <tbody>
                @{
                    var p = 0;
                    var h = 0;
                    var c = 0;
                    var d = 0;
                    foreach (var item in Model)
                    {
                        foreach (var x in item)
                        {
                            <tr>
                                <td>@x.saleid </td>
                                <td>@x.date </td>
                                <td>R @x.AcceptedOffer .00</td>
                                <td>@x.paymenttype</td>
                                <td>@x.CarReg</td>
                                <td>@x.make </td>
                                <td>@x.model </td>
                                <td>@x.client </td>
                            </tr>
                            p += x.AcceptedOffer;
                            h += x.AcceptedOffer;
                        }
                        <tr>
                            <td>Sales of @ViewBag.Makes[c] : @ViewBag.counts[c] for R @h</td>
                        </tr>
                        d = d + ViewBag.counts[c];
                        h = 0;
                        c++;
                    }
                }
            <td>Total sales : @d cars for R @p </td>
            </tbody>
        </table>
        <br />
        <div id="chartContainer" style="height: 370px; width: 50%;"></div>
        <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

        <!-- <button type="submit" id="SubmitAction" name="SubmitAction">Generate pdf</button> -->
        <div style="text-align:center">
            <input type="button" value="Home"  title="Return to homepage" class="btn btn-secondary" onclick="location.href='@Url.Action("AdminNav","Nav")'" />
        </div>
    </body>
     

         <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
         <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.min.js"></script>
         <script>


                 // create canvas object
                 function getCanvas() {
                     form.width((a4[0] * 1.33333) - 80).css('max-width', 'none');
                     return html2canvas(form, {
                         imageTimeout: 2000,
                         removeContainer: true
                     });
                 }

           
         </script>
         


